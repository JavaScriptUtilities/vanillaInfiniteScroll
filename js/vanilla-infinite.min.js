function vanilla_infinite_scroll(a,b){"use strict";function c(){l.set_events()}function d(){m=l.el.getBoundingClientRect(),t=j()+m.top+m.height-o}function e(){if(p)return l.unset_events(),!1;if(!r)return!1;if(s=k(),s<t)return!1;h();var a={currentPage:l.currentPage};n&&i(n,f,a)}function f(a){a||l.unset_events(),q(l,a),d(),g()}function g(){r=!0,l.el.setAttribute("aria-busy","false"),l.el.setAttribute("data-loading","false")}function h(){r=!1,l.el.setAttribute("aria-busy","true"),l.el.setAttribute("data-loading","true")}function i(a,b,c){return window.jQuery?void jQuery.ajax({url:a,success:b,data:c}):void new jsuAJAX({url:a,callback:b,data:c})}function j(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function k(){return j()+Math.max(document.documentElement.clientHeight,window.innerHeight||0)}var l=this;if(b=b||{},a){l.el=a,l.currentPage=parseInt(l.el.getAttribute("data-currentpage")||b.currentPage||1,10);var m,n=l.el.getAttribute("data-callbackurl")||b.callbackUrl||!1,o=parseInt(l.el.getAttribute("data-offsetscroll")||b.offsetScroll||200,10),p=!1,q=b.callbackResponse||function(a,b){a.el.insertAdjacentHTML("beforeend",b),a.currentPage++},r=!0,s=0,t=0;l.set_events=function(){d(),e(),window.addEventListener("resize",d,!1),window.addEventListener("scroll",e,!1)},l.unset_events=function(){window.removeEventListener("resize",d,!1),window.removeEventListener("scroll",e,!1)},c()}}